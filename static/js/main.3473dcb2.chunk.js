(this.webpackJsonpsula=this.webpackJsonpsula||[]).push([[0],{15:function(e,t,a){},26:function(e,t,a){e.exports=a(38)},38:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(16),r=a.n(l),c=a(23),i=a(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,m=a(25),u=a(8),d=a(17),g=a(9),f=a(10),h=a(13),p=a(12),S=a(18),v=a.n(S),N=a(11),E=a.n(N),C=(a(32),a(15),JSON.parse(localStorage.getItem("printedFios"))||[]),I=function(e){var t=e.fio,a=e.onClick,n=e.selectedItem.selectFio;return o.a.createElement("li",{className:"adminList"},o.a.createElement("h3",{className:!0===C.includes(t)&&t!==n?"printed":!0===C.includes(t)&&t===n||!0!==C.includes(t)&&t===n?"selectingNow":"notSelected"},t),o.a.createElement("button",{className:"formation",onClick:function(){return a(t)}},"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))},b=function(e){var t=e.onChange;return o.a.createElement("div",{className:"admin-search-box"},o.a.createElement("input",{className:"admin-search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"adminSearch",onChange:t}))},k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.selectedItem,t=e.lastName,a=e.flagName,n=e.imgId,l=this.props.date;return o.a.createElement("div",{className:"pdf"},o.a.createElement("h1",{className:"title"},"\u0413\u0440\u0430\u043c\u043e\u0442\u0430 \u0428\u043b\u044f\u0445\u0442\u0438\u0447\u0430"),o.a.createElement("img",{className:"flagForPdf",src:"https://dmitrykalko.github.io/rakovich/base/images/"+ +n+".png",alt:"flagImage"}),o.a.createElement("h4",{className:"firstString"},"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0433\u0440\u0430\u043c\u043e\u0442\u0430 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e"),o.a.createElement("h2",{className:"fio"},this.props.fio),o.a.createElement("h4",{className:"secondString"},"\u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u043a \u0448\u043b\u044f\u0445\u0435\u0446\u043a\u043e\u043c\u0443 \u0440\u043e\u0434\u0443"),o.a.createElement("h2",{className:"familyName"},"\xab",t,"\xbb"),o.a.createElement("h4",{className:"thirdString"},"\u0441 \u0440\u043e\u0434\u043e\u0432\u044b\u043c \u0433\u0435\u0440\u0431\u043e\u043c"),o.a.createElement("h2",{className:"familyFlag"},"\xab",a,"\xbb"),o.a.createElement("p",{className:"datePdf"},l))}}]),a}(o.a.Component),y=JSON.parse(localStorage.getItem("dataForSertificate"))||[],O=[];O=JSON.parse(localStorage.getItem("printedFios"))||[];var w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={fio:"",selectedItem:"",date:"",autoClearingStatus:!1,adminSearch:"",applications:[]},e.isSelecting=function(t){var a=y.indexOf(t);e.setState({selectedItem:y[a+1]}),e.setState({selectedItem:Object(d.a)(Object(d.a)({},y[a+1]),{},{selectFio:t})}),e.setState({fio:t}),e.selectingDate()},e.clearListNow=function(){localStorage.clear(),window.location.reload()},e.autoCleanCheck=function(){s=JSON.parse(localStorage.getItem("autoClearingStatus")),console.log(s),!0===s&&e.autoClearList()},e.autoClearList=function(){var t=e.state.autoClearingStatus;if(!1===t){t=!0,localStorage.setItem("autoClearingStatus",JSON.stringify(t)),e.setState({autoClearingStatus:!0});var a=setInterval((function(){e.clearInTime()}),5e4);localStorage.setItem("intervalId",JSON.stringify(a)),console.log("\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e\u0448\u0435\u043b!"),console.log(localStorage)}else{localStorage.setItem("autoClearingStatus",JSON.stringify(!1)),localStorage.removeItem("intervalId"),e.setState({autoClearingStatus:!1}),console.log("\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0433\u043b\u043e\u0445"),console.log(localStorage),console.log(!1)}},e.clearInTime=function(){var t=new Date,a=t.getHours(),n=t.getMinutes();0===a&&0===n&&e.clearList()},e.clearList=function(){localStorage.removeItem("dataForSertificate"),localStorage.removeItem("printedFios"),window.location.reload()},e.selectingDate=function(){var t=E()().locale("ru").format("DD MMMM YYYY");e.setState({date:t})},e.changeDate=function(t){var a=t.target.value,n=E()(a).locale("ru").format("D MMMM YYYY");e.setState({date:n})},e.alreadyPrinted=function(e,t){e(),""!==t&&O.push(t),localStorage.setItem("printedFios",JSON.stringify(O)),console.log(O)},e.findApplication=function(t){var a=t.target,n=a.name,o=a.value;e.setState(Object(u.a)({},n,o))},e}return Object(f.a)(a,[{key:"componentWillMount",value:function(){this.autoCleanCheck(),console.log(localStorage);var e=y.filter((function(e){return"string"===typeof e}));this.setState({applications:e})}},{key:"fillterApplications",value:function(){var e=this.state,t=e.adminSearch,a=e.applications,n=Object(m.a)(a);return""!==t&&(n=n.filter((function(e){if(0===e.toLowerCase().indexOf(t.toLowerCase()))return e}))),n}},{key:"render",value:function(){var e=this;console.log(localStorage),console.log(this.state);var t=this.fillterApplications().map((function(t){return o.a.createElement(I,{key:t,fio:t,onClick:e.isSelecting,selectedItem:e.state.selectedItem})}));return o.a.createElement("div",{className:"adminPage"},o.a.createElement("ul",{className:"sertificate"},t),o.a.createElement("div",{className:"functional"},o.a.createElement(b,{onChange:this.findApplication,adminSearch:this.state.adminSearch}),o.a.createElement(v.a,{content:function(){return e.componentRef}},o.a.createElement(S.PrintContextConsumer,null,(function(t){var a=t.handlePrint;return o.a.createElement("button",{className:"print",onClick:function(){return e.alreadyPrinted(a,e.state.fio)}},"\u041f\u0435\u0447\u0430\u0442\u044c")}))),o.a.createElement("input",{type:"date",name:"date",className:"calendar",onChange:this.changeDate}),o.a.createElement("div",{className:"cleanering"},o.a.createElement("button",{className:"clear",onClick:this.clearListNow},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"),o.a.createElement("button",{className:"autoclear",style:!0===this.state.autoClearingStatus?{backgroundColor:"lime"}:{backgroundColor:"white"},onClick:this.autoClearList},"\u041e\u0447\u0438\u0449\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 00:00")),o.a.createElement("div",{className:"pdfToPrint"},o.a.createElement(k,{ref:function(t){return e.componentRef=t},fio:this.state.fio,date:this.state.date,selectedItem:this.state.selectedItem}))))}}]),a}(o.a.Component),j=function(){return o.a.createElement("div",{className:"admin"},o.a.createElement("h1",null,"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),o.a.createElement(w,null))};r.a.render(o.a.createElement(c.a,{basename:"/sula"},o.a.createElement(i.a,{path:"/admin",exact:!0,component:j})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.3473dcb2.chunk.js.map