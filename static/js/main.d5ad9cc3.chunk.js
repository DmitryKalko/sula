(this.webpackJsonpsula=this.webpackJsonpsula||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/logo.f4b99cca.png"},36:function(e,t,a){e.exports=a.p+"static/media/logoFooter.8daccb5d.png"},39:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=a(37),s=a(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,m=a(15),u=a(7),f=a(10),d=a(11),g=a(13),h=a(12),p=a(34),S=a.n(p),v=a(19),N=a.n(v),E=(a(8),a(35)),b=a.n(E),C=a(36),k=a.n(C),I=function(e){var t=e.lastName,a=e.id,n=e.onClick;return r.a.createElement("li",{onClick:function(){return n(a)},className:"lastName"},t)},y=function(e){var t=e.base,a=e.onClick,n=t.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},e,{onClick:a}))}));return r.a.createElement("ul",null,n)},O=function(e){var t=e.selectedItem,a=e.search,n=e.inputStatus,l=e.onClick,c=t.lastName,o=t.flagName,s=t.imgId;return r.a.createElement("div",Object(u.a)({className:"info",style:!0===n?{opacity:1}:{opacity:0}},"style",""!==a?{opacity:0}:{opacity:1}),r.a.createElement("h1",null,c),r.a.createElement("h3",null,"\u0413\u0435\u0440\u0431: ",o),r.a.createElement("img",{className:"imgUrl",src:"https://dmitrykalko.github.io/rakovich/base/images/"+ +s+".png",alt:"flagImage"}),r.a.createElement("button",{className:"sertificate-btn",onClick:function(){return l(t)}},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u0443 \u0448\u043b\u044f\u0445\u0442\u0438\u0447\u0430"))},j=function(e){var t=e.onChange,a=e.search;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"inputField",placeholder:"\u0412\u0412\u0415\u0414\u0418\u0422\u0415 \u0412\u0410\u0428\u0423 \u0424\u0410\u041c\u0418\u041b\u0418\u042e",name:"search",onChange:t,value:""===a?"":a}))},w=function(e){var t=e.formStatus,a=e.onClick,n=e.onChange,l=e.onSubmit;return r.a.createElement("form",{className:"form",style:!0===t?{display:"flex"}:{display:"none"},onSubmit:l},r.a.createElement("div",{className:"close",onClick:a}),r.a.createElement("input",{className:"fioField",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",name:"fio",onChange:n}),r.a.createElement("button",{className:"formBtn"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0433\u0440\u0430\u043c\u043e\u0442\u0443 \u0448\u043b\u044f\u0445\u0442\u0438\u0447\u0430"))},F=[],L=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={base:[],selectedItem:null,search:"",intervalId:0,formStatus:!1,fio:"",formData:""},e.getSertificate=function(t){var a=t.lastName,n=t.flagName,r=t.imgId;e.setState({formStatus:!0,lastName:a,flagName:n,imgId:r})},e.closeForm=function(){e.setState({formStatus:!1})},e.submitForm=function(t){var a=e.state.fio;t.preventDefault(),e.setState({formData:a,formStatus:!1}),e.makeStorage(),t.target.reset(),""!==e.state.fio?(N.a.fire({title:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0412\u044b \u0428\u043b\u044f\u0445\u0442\u0438\u0447!",text:"\u0421\u0432\u043e\u044e \u043b\u0438\u0447\u043d\u0443\u044e \u0433\u0440\u0430\u043c\u043e\u0442\u0443 \u0428\u043b\u044f\u0445\u0442\u0438\u0447\u0430 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0448\u0435\u043d",icon:"success",confirmButtonText:"\u0423\u0436\u0435 \u0438\u0434\u0443!"}),e.setState({fio:""})):N.a.fire({text:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u0424\u0430\u043c\u0438\u043b\u0438\u044e \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",icon:"error",confirmButtonText:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})},e.fioData=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.selectLastName=function(t){var a=e.state.base,n=Object(m.a)(a).filter((function(e){return e.id===t}))[0];e.setState({selectedItem:n}),e.setState({inputStatus:!0}),e.setState({search:""})},e.makeStorage=function(){var t=e.state.fio,a=e.state.selectedItem;F=JSON.parse(localStorage.getItem("dataForSertificate"))||[],""!==t&&F.push(t,a),localStorage.setItem("dataForSertificate",JSON.stringify(F)),console.log(F)},e.findLastName=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.a.get("".concat("https://dmitrykalko.github.io/rakovich/base/db.json")).then((function(t){var a=t.data;e.setState({base:a.base})}))}},{key:"fillterBase",value:function(){var e=this.state,t=e.base,a=e.search,n=Object(m.a)(t);return""!==a&&(n=n.filter((function(e){if(0===e.lastName.toLowerCase().indexOf(a.toLowerCase()))return e.lastName}))),n}},{key:"render",value:function(){console.log(this.state);var e=this.fillterBase();return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"backgroundImage"},r.a.createElement("img",{src:b.a,alt:"logo",className:"logo"})),r.a.createElement("div",{className:"container"},r.a.createElement(j,{onChange:this.findLastName,inputStatus:this.state.inputStatus,search:this.state.search}),r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"lastNames"},e&&r.a.createElement(y,{base:e,onClick:this.selectLastName,start:this.startInterval})),r.a.createElement("div",null,this.state.selectedItem&&r.a.createElement(O,{selectedItem:this.state.selectedItem,inputStatus:this.state.inputStatus,search:this.state.search,onClick:this.getSertificate}))),r.a.createElement(w,{formStatus:this.state.formStatus,search:this.state.search,onClick:this.closeForm,onChange:this.fioData,onSubmit:this.submitForm})))),r.a.createElement("footer",null,r.a.createElement("div",{className:"footer"},r.a.createElement("hr",{className:"line"}),r.a.createElement("a",{href:"https://parksula.by/ru/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:k.a,alt:"logoFoot"})),r.a.createElement("hr",{className:"line"}))))}}]),a}(r.a.Component),x=a(20),D=a(21),J=a.n(D),M=a(16),P=a.n(M),Y=(a(62),JSON.parse(localStorage.getItem("printedFios"))||[]),A=function(e){var t=e.fio,a=e.onClick,n=e.selectedItem.selectFio;return r.a.createElement("li",{className:"adminList"},r.a.createElement("h3",{className:!0===Y.includes(t)&&t!==n?"printed":!0===Y.includes(t)&&t===n||!0!==Y.includes(t)&&t===n?"selectingNow":"notSelected"},t),r.a.createElement("button",{className:"formation",onClick:function(){return a(t)}},"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))},B=function(e){var t=e.onChange;return r.a.createElement("div",{className:"admin-search-box"},r.a.createElement("input",{className:"admin-search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"adminSearch",onChange:t}))},T=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.selectedItem,t=e.lastName,a=e.flagName,n=e.imgId,l=this.props.date;return r.a.createElement("div",{className:"pdf"},r.a.createElement("h1",{className:"title"},"\u0413\u0440\u0430\u043c\u043e\u0442\u0430 \u0428\u043b\u044f\u0445\u0442\u0438\u0447\u0430"),r.a.createElement("img",{className:"flagForPdf",src:"https://dmitrykalko.github.io/rakovich/base/images/"+ +n+".png",alt:"flagImage"}),r.a.createElement("h4",{className:"firstString"},"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0433\u0440\u0430\u043c\u043e\u0442\u0430 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e"),r.a.createElement("h2",{className:"fio"},this.props.fio),r.a.createElement("h4",{className:"secondString"},"\u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u043a \u0448\u043b\u044f\u0445\u0435\u0446\u043a\u043e\u043c\u0443 \u0440\u043e\u0434\u0443"),r.a.createElement("h2",{className:"familyName"},"\xab",t,"\xbb"),r.a.createElement("h4",{className:"thirdString"},"\u0441 \u0440\u043e\u0434\u043e\u0432\u044b\u043c \u0433\u0435\u0440\u0431\u043e\u043c"),r.a.createElement("h2",{className:"familyFlag"},"\xab",a,"\xbb"),r.a.createElement("p",{className:"datePdf"},l))}}]),a}(r.a.Component),W=JSON.parse(localStorage.getItem("dataForSertificate"))||[],R=[];R=JSON.parse(localStorage.getItem("printedFios"))||[];var H=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={fio:"",selectedItem:"",date:"",autoClearingStatus:!1,adminSearch:"",applications:[]},e.isSelecting=function(t){var a=W.indexOf(t);e.setState({selectedItem:W[a+1]}),e.setState({selectedItem:Object(x.a)(Object(x.a)({},W[a+1]),{},{selectFio:t})}),e.setState({fio:t}),e.selectingDate()},e.clearListNow=function(){localStorage.clear(),window.location.reload()},e.autoCleanCheck=function(){i=JSON.parse(localStorage.getItem("autoClearingStatus")),console.log(i),!0===i&&e.autoClearList()},e.autoClearList=function(){var t=e.state.autoClearingStatus;if(!1===t){t=!0,localStorage.setItem("autoClearingStatus",JSON.stringify(t)),e.setState({autoClearingStatus:!0});var a=setInterval((function(){e.clearInTime()}),5e4);localStorage.setItem("intervalId",JSON.stringify(a)),console.log("\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e\u0448\u0435\u043b!"),console.log(localStorage)}else{localStorage.setItem("autoClearingStatus",JSON.stringify(!1)),localStorage.removeItem("intervalId"),e.setState({autoClearingStatus:!1}),console.log("\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0433\u043b\u043e\u0445"),console.log(localStorage),console.log(!1)}},e.clearInTime=function(){var t=new Date,a=t.getHours(),n=t.getMinutes();0===a&&0===n&&e.clearList()},e.clearList=function(){localStorage.removeItem("dataForSertificate"),localStorage.removeItem("printedFios"),window.location.reload()},e.selectingDate=function(){var t=P()().locale("ru").format("DD MMMM YYYY");e.setState({date:t})},e.changeDate=function(t){var a=t.target.value,n=P()(a).locale("ru").format("D MMMM YYYY");e.setState({date:n})},e.alreadyPrinted=function(e,t){e(),""!==t&&R.push(t),localStorage.setItem("printedFios",JSON.stringify(R)),console.log(R)},e.findApplication=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.autoCleanCheck(),console.log(localStorage);var e=W.filter((function(e){return"string"===typeof e}));this.setState({applications:e})}},{key:"fillterApplications",value:function(){var e=this.state,t=e.adminSearch,a=e.applications,n=Object(m.a)(a);return""!==t&&(n=n.filter((function(e){if(0===e.toLowerCase().indexOf(t.toLowerCase()))return e}))),n}},{key:"render",value:function(){var e=this;console.log(localStorage),console.log(this.state);var t=this.fillterApplications().map((function(t){return r.a.createElement(A,{key:t,fio:t,onClick:e.isSelecting,selectedItem:e.state.selectedItem})}));return r.a.createElement("div",{className:"adminPage"},r.a.createElement("ul",{className:"sertificate"},t),r.a.createElement("div",{className:"functional"},r.a.createElement(B,{onChange:this.findApplication,adminSearch:this.state.adminSearch}),r.a.createElement(J.a,{content:function(){return e.componentRef}},r.a.createElement(D.PrintContextConsumer,null,(function(t){var a=t.handlePrint;return r.a.createElement("button",{className:"print",onClick:function(){return e.alreadyPrinted(a,e.state.fio)}},"\u041f\u0435\u0447\u0430\u0442\u044c")}))),r.a.createElement("input",{type:"date",name:"date",className:"calendar",onChange:this.changeDate}),r.a.createElement("div",{className:"cleanering"},r.a.createElement("button",{className:"clear",onClick:this.clearListNow},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"),r.a.createElement("button",{className:"autoclear",style:!0===this.state.autoClearingStatus?{backgroundColor:"lime"}:{backgroundColor:"white"},onClick:this.autoClearList},"\u041e\u0447\u0438\u0449\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 00:00")),r.a.createElement("div",{className:"pdfToPrint"},r.a.createElement(T,{ref:function(t){return e.componentRef=t},fio:this.state.fio,date:this.state.date,selectedItem:this.state.selectedItem}))))}}]),a}(r.a.Component),U=function(){return r.a.createElement("div",{className:"admin"},r.a.createElement("h1",null,"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),r.a.createElement(H,null))};c.a.render(r.a.createElement(o.a,{basename:"/sula"},r.a.createElement(s.a,{path:"/",exact:!0,component:L}),r.a.createElement(s.a,{path:"/admin",exact:!0,component:U})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){}},[[39,1,2]]]);
//# sourceMappingURL=main.d5ad9cc3.chunk.js.map